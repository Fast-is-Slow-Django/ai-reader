# AI-Reader é¡¹ç›®å¼€å‘æ€»ç»“

å®Œæ•´çš„é¡¹ç›®å¼€å‘å†ç¨‹ã€æŠ€æœ¯å®ç°å’Œéƒ¨ç½²æŒ‡å—ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: AI-Reader  
**å®šä½**: æ™ºèƒ½ç”µå­ä¹¦é˜…è¯»å™¨  
**ç›®æ ‡**: æä¾›ä¼˜ç§€çš„ç§»åŠ¨ç«¯ EPUB é˜…è¯»ä½“éªŒï¼Œç»“åˆ AI æŠ€æœ¯æå‡é˜…è¯»ç†è§£

---

## âœ… å·²å®ŒæˆåŠŸèƒ½ï¼ˆv1.0ï¼‰

### **é˜¶æ®µ 1: è®¤è¯ç³»ç»Ÿ (100%)**

#### å®ç°çš„åŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆé‚®ç®± + å¯†ç ï¼‰
- âœ… ç”¨æˆ·ç™»å½•
- âœ… é‚®ç®±ç¡®è®¤ï¼ˆå¯é€‰ï¼‰
- âœ… é€€å‡ºç™»å½•
- âœ… Session è‡ªåŠ¨åˆ·æ–°
- âœ… è·¯ç”±ä¿æŠ¤ä¸­é—´ä»¶
- âœ… å¯†ç éªŒè¯ï¼ˆæœ€ä½ 6 ä½ï¼‰

#### å…³é”®æŠ€æœ¯
- Supabase Auth
- Next.js Server Actions
- Middleware è·¯ç”±ä¿æŠ¤
- Cookie-based Session

#### ç›¸å…³æ–‡ä»¶
```
app/login/
â”œâ”€â”€ page.tsx          # ç™»å½•é¡µé¢ UI
â””â”€â”€ actions.ts        # ç™»å½•/æ³¨å†Œ Server Actions

app/actions/auth.ts   # å…¨å±€è®¤è¯ Actions
app/auth/callback/    # é‚®ä»¶ç¡®è®¤å›è°ƒ
components/auth/      # è®¤è¯ç›¸å…³ç»„ä»¶
middleware.ts         # è·¯ç”±ä¿æŠ¤
```

---

### **é˜¶æ®µ 2: ä¹¦æ¶åŠŸèƒ½ (90%)**

#### å®ç°çš„åŠŸèƒ½
- âœ… æŸ¥çœ‹ä¹¦ç±åˆ—è¡¨
- âœ… ä¸Šä¼  EPUB æ–‡ä»¶
- âœ… æ‹–æ‹½ä¸Šä¼ ï¼ˆå¢å¼ºç‰ˆï¼‰
- âœ… å®æ—¶è¿›åº¦æ˜¾ç¤º
- âœ… æ–‡ä»¶ç±»å‹éªŒè¯ï¼ˆä»… .epubï¼‰
- âœ… æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ50MBï¼‰
- âœ… å“åº”å¼ç½‘æ ¼å¸ƒå±€
- âœ… ç©ºçŠ¶æ€æç¤º
- â³ åˆ é™¤ä¹¦ç±ï¼ˆåŠŸèƒ½å·²æœ‰ï¼ŒUI å¾…å®Œå–„ï¼‰
- â³ ç¼–è¾‘ä¹¦åï¼ˆåŠŸèƒ½å·²æœ‰ï¼ŒUI å¾…å®Œå–„ï¼‰

#### å…³é”®æŠ€æœ¯
- Supabase Storage
- Next.js Server Components
- FormData æ–‡ä»¶ä¸Šä¼ 
- revalidatePath è‡ªåŠ¨åˆ·æ–°

#### ç›¸å…³æ–‡ä»¶
```
app/dashboard/
â”œâ”€â”€ page.tsx          # ä¹¦æ¶é¡µé¢
â”œâ”€â”€ actions.ts        # ä¹¦ç±ç®¡ç† Actions
â””â”€â”€ upload/
    â””â”€â”€ actions.ts    # æ–‡ä»¶ä¸Šä¼  Actions

components/dashboard/
â”œâ”€â”€ BookUploader.tsx               # åŸºç¡€ä¸Šä¼ ç»„ä»¶
â””â”€â”€ BookUploaderWithProgress.tsx   # å¢å¼ºç‰ˆä¸Šä¼ ç»„ä»¶
```

---

### **é˜¶æ®µ 3: é˜…è¯»å™¨åŠŸèƒ½ (70%)**

#### å®ç°çš„åŠŸèƒ½
- âœ… åŠ è½½ EPUB æ–‡ä»¶
- âœ… æ¸²æŸ“ä¹¦ç±å†…å®¹
- âœ… ç¿»é¡µåŠŸèƒ½ï¼ˆæŒ‰é’®ï¼‰
- âœ… è¿›åº¦æ˜¾ç¤ºï¼ˆç™¾åˆ†æ¯”ï¼‰
- âœ… ç« èŠ‚æ ‡é¢˜æ˜¾ç¤º
- âœ… è¿”å›ä¹¦æ¶
- âœ… æƒé™éªŒè¯
- â³ è¿›åº¦ä¿å­˜/æ¢å¤ï¼ˆåŠŸèƒ½å¾…å®ç°ï¼‰
- â³ é”®ç›˜å¿«æ·é”®ï¼ˆå¾…å®ç°ï¼‰
- â³ ä¸»é¢˜åˆ‡æ¢ï¼ˆå¾…å®ç°ï¼‰

#### å…³é”®æŠ€æœ¯
- react-reader
- EPUB.js
- Dynamic Import (ç¦ç”¨ SSR)
- useRef æ§åˆ¶ Rendition

#### ç›¸å…³æ–‡ä»¶
```
app/read/[id]/
â””â”€â”€ page.tsx          # é˜…è¯»å™¨é¡µé¢

components/reader/
â””â”€â”€ MobileReader.tsx  # EPUB é˜…è¯»å™¨ç»„ä»¶
```

---

## ğŸ“Š é¡¹ç›®å®Œæˆåº¦

```
æ€»ä½“è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%

è®¤è¯ç³»ç»Ÿ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ä¹¦æ¶åŠŸèƒ½  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  90%
é˜…è¯»å™¨    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  70%
AI åŠŸèƒ½   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
```

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### **å‰ç«¯æŠ€æœ¯æ ˆ**

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Next.js | 15.x | React æ¡†æ¶ |
| React | 19.x | UI åº“ |
| TypeScript | 5.x | ç±»å‹ç³»ç»Ÿ |
| Tailwind CSS | 3.x | æ ·å¼æ¡†æ¶ |
| react-reader | 2.x | EPUB é˜…è¯»å™¨ |
| Lucide React | - | å›¾æ ‡åº“ |

### **åç«¯æœåŠ¡**

| æœåŠ¡ | ç”¨é€” |
|------|------|
| Supabase Auth | ç”¨æˆ·è®¤è¯ |
| Supabase Postgres | æ•°æ®å­˜å‚¨ |
| Supabase Storage | æ–‡ä»¶å­˜å‚¨ |
| Row Level Security | æ•°æ®å®‰å…¨ |

### **å¼€å‘å·¥å…·**

- Node.js 18+
- npm / pnpm / yarn
- Git

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ireader/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ login/                   # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ dashboard/               # ä¹¦æ¶é¡µé¢
â”‚   â”œâ”€â”€ read/[id]/              # é˜…è¯»å™¨é¡µé¢
â”‚   â”œâ”€â”€ actions/                # å…¨å±€ Server Actions
â”‚   â””â”€â”€ auth/callback/          # è®¤è¯å›è°ƒ
â”œâ”€â”€ components/                  # React ç»„ä»¶
â”‚   â”œâ”€â”€ auth/                   # è®¤è¯ç»„ä»¶
â”‚   â”œâ”€â”€ dashboard/              # ä¹¦æ¶ç»„ä»¶
â”‚   â””â”€â”€ reader/                 # é˜…è¯»å™¨ç»„ä»¶
â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ supabase/               # Supabase å®¢æˆ·ç«¯
â”œâ”€â”€ types/                       # TypeScript ç±»å‹
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ middleware.ts                # è·¯ç”±ä¿æŠ¤
â”œâ”€â”€ supabase-schema.sql          # æ•°æ®åº“ Schema
â””â”€â”€ .env.local                   # ç¯å¢ƒå˜é‡
```

---

## ğŸ” å®‰å…¨ç‰¹æ€§

### **å¤šå±‚å®‰å…¨ä¿æŠ¤**

1. **è®¤è¯å±‚**
   - Supabase Auth JWT
   - HttpOnly Cookies
   - CSRF ä¿æŠ¤

2. **æ•°æ®åº“å±‚**
   - Row Level Security (RLS)
   - ç”¨æˆ·æ•°æ®éš”ç¦»
   - çº§è”åˆ é™¤

3. **åº”ç”¨å±‚**
   - ä¸­é—´ä»¶è·¯ç”±ä¿æŠ¤
   - Server Actions éªŒè¯
   - è¾“å…¥éªŒè¯

4. **å­˜å‚¨å±‚**
   - Storage Policies
   - ç”¨æˆ·ç›®å½•éš”ç¦»
   - æ–‡ä»¶ç±»å‹éªŒè¯

---

## ğŸ“š å®Œæ•´æ–‡æ¡£ç›®å½•

### **å…¥é—¨æŒ‡å—**
- `README.md` - é¡¹ç›®æ€»è§ˆ
- `SETUP.md` - ç¯å¢ƒæ­å»º
- `docs/ENV.md` - ç¯å¢ƒå˜é‡é…ç½®

### **åŠŸèƒ½æ–‡æ¡£**
- `docs/AUTH.md` - è®¤è¯ç³»ç»Ÿè¯¦è§£
- `docs/DASHBOARD_ACTIONS.md` - Server Actions API
- `docs/BOOK_UPLOADER.md` - ä¸Šä¼ ç»„ä»¶æŒ‡å—
- `docs/DASHBOARD_PAGE.md` - ä¹¦æ¶é¡µé¢æ–‡æ¡£
- `docs/READER_PAGE.md` - é˜…è¯»å™¨æ¶æ„
- `docs/MOBILE_READER.md` - EPUB é˜…è¯»å™¨ç»„ä»¶

### **æŠ€æœ¯æ–‡æ¡£**
- `docs/MIDDLEWARE.md` - è·¯ç”±ä¿æŠ¤åŸç†
- `docs/ROUTES.md` - è·¯ç”±è§„åˆ’
- `docs/QUICK_START_AUTH.md` - è®¤è¯å¿«é€Ÿå¼€å§‹
- `docs/ACTIONS_REFERENCE.md` - Actions é€ŸæŸ¥è¡¨

### **æµ‹è¯•æ–‡æ¡£**
- `docs/TESTING_GUIDE.md` - å®Œæ•´æµ‹è¯•æŒ‡å—
- `docs/LOGIN_PAGE.md` - ç™»å½•é¡µé¢è¯´æ˜

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### **1. å…‹éš†é¡¹ç›®**

```bash
git clone <your-repo-url>
cd ireader
```

### **2. å®‰è£…ä¾èµ–**

```bash
npm install
```

### **3. é…ç½®ç¯å¢ƒ**

åˆ›å»º `.env.local`ï¼š

```env
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```

### **4. åˆå§‹åŒ–æ•°æ®åº“**

åœ¨ Supabase Dashboard æ‰§è¡Œ `supabase-schema.sql`

### **5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

è®¿é—® http://localhost:3000

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

### **ç”¨æˆ·æ—…ç¨‹**

```
1. è®¿é—®ç½‘ç«™ â†’ è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ
   â†“
2. æ³¨å†Œè´¦å· â†’ åˆ›å»ºæ–°ç”¨æˆ·
   â†“
3. è‡ªåŠ¨ç™»å½• â†’ è·³è½¬åˆ°ä¹¦æ¶ï¼ˆç©ºï¼‰
   â†“
4. ä¸Šä¼ ä¹¦ç± â†’ é€‰æ‹© EPUB æ–‡ä»¶
   â†“
5. æŸ¥çœ‹ä¹¦æ¶ â†’ ä¹¦ç±è‡ªåŠ¨æ˜¾ç¤º
   â†“
6. ç‚¹å‡»ä¹¦ç± â†’ è¿›å…¥é˜…è¯»å™¨
   â†“
7. é˜…è¯»ä¹¦ç± â†’ ç¿»é¡µã€æŸ¥çœ‹è¿›åº¦
   â†“
8. è¿”å›ä¹¦æ¶ â†’ ç»§ç»­ç®¡ç†ä¹¦ç±
```

---

## ğŸ“± å“åº”å¼è®¾è®¡

### **æ–­ç‚¹é…ç½®**

| æ–­ç‚¹ | å±å¹•å®½åº¦ | ä¹¦æ¶åˆ—æ•° | è®¾å¤‡ |
|------|---------|---------|------|
| é»˜è®¤ | < 640px | 2 åˆ— | æ‰‹æœº |
| sm | â‰¥ 640px | 3 åˆ— | å¤§æ‰‹æœº |
| md | â‰¥ 768px | 4 åˆ— | å¹³æ¿ |
| lg | â‰¥ 1024px | 5 åˆ— | ç¬”è®°æœ¬ |

### **ç§»åŠ¨ç«¯ä¼˜åŒ–**

- âœ… è§¦æ‘¸å‹å¥½çš„æŒ‰é’®å°ºå¯¸ï¼ˆâ‰¥44pxï¼‰
- âœ… å¤§å·è¾“å…¥æ¡†
- âœ… å¯ç‚¹å‡»åŒºåŸŸå……è¶³
- âœ… æ— æ¨ªå‘æ»šåŠ¨
- âœ… é€‚é…å°å±å¹•

---

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### **é¢œè‰²æ–¹æ¡ˆ**

```css
/* ä¸»è‰²è°ƒ */
--primary: #3B82F6      /* blue-600 */
--primary-hover: #2563EB /* blue-700 */

/* è¾…åŠ©è‰² */
--secondary: #9333EA    /* purple-600 */
--accent: #10B981       /* green-500 */

/* ä¸­æ€§è‰² */
--gray-50: #F9FAFB
--gray-900: #111827

/* åŠŸèƒ½è‰² */
--success: #10B981
--error: #EF4444
--warning: #F59E0B
```

### **é—´è·ç³»ç»Ÿ**

```css
/* Tailwind æ ‡å‡†é—´è· */
gap-4: 16px
gap-6: 24px
p-4: 16px
p-6: 24px
```

### **åœ†è§’**

```css
rounded-lg: 8px
rounded-xl: 12px
rounded-2xl: 16px
```

---

## ğŸ› å·²çŸ¥é—®é¢˜

### **1. è¿›åº¦ä¿å­˜**

**çŠ¶æ€**: æœªå®ç°  
**å½±å“**: æ¯æ¬¡æ‰“å¼€ä¹¦ç±éƒ½ä»å¤´å¼€å§‹  
**è®¡åˆ’**: ä¸‹ä¸€ç‰ˆæœ¬å®ç°

### **2. ä¹¦ç±å°é¢**

**çŠ¶æ€**: ä½¿ç”¨æ¸å˜èƒŒæ™¯å ä½  
**å½±å“**: æ— æ³•æ˜¾ç¤ºçœŸå®å°é¢  
**è®¡åˆ’**: é›†æˆå°é¢æå–åŠŸèƒ½

### **3. åˆ é™¤ç¡®è®¤**

**çŠ¶æ€**: ç¼ºå°‘ç¡®è®¤å¼¹çª—  
**å½±å“**: å¯èƒ½è¯¯åˆ ä¹¦ç±  
**è®¡åˆ’**: æ·»åŠ ç¡®è®¤å¯¹è¯æ¡†

---

## ğŸš§ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

### **v1.1 - å¢å¼ºåŠŸèƒ½ï¼ˆé¢„è®¡ 2 å‘¨ï¼‰**

- [ ] é˜…è¯»è¿›åº¦ä¿å­˜å’Œæ¢å¤
- [ ] ä¹¦ç±å°é¢æå–å’Œæ˜¾ç¤º
- [ ] åˆ é™¤ä¹¦ç±ç¡®è®¤å¯¹è¯æ¡†
- [ ] ç¼–è¾‘ä¹¦ååŠŸèƒ½
- [ ] é”®ç›˜å¿«æ·é”®

### **v1.2 - é˜…è¯»ä½“éªŒï¼ˆé¢„è®¡ 3 å‘¨ï¼‰**

- [ ] ä¸»é¢˜åˆ‡æ¢ï¼ˆæ—¥é—´/å¤œé—´ï¼‰
- [ ] å­—ä½“å¤§å°è°ƒæ•´
- [ ] ç›®å½•å¯¼èˆª
- [ ] ä¹¦ç­¾åŠŸèƒ½
- [ ] æœç´¢åŠŸèƒ½

### **v2.0 - AI åŠŸèƒ½ï¼ˆé¢„è®¡ 4 å‘¨ï¼‰**

- [ ] æ–‡å­—é€‰æ‹©
- [ ] AI è§£é‡Šç”Ÿæˆ
- [ ] é«˜äº®å’Œç¬”è®°
- [ ] ç¬”è®°ç®¡ç†
- [ ] å¯¼å‡ºç¬”è®°

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### **é¡µé¢åŠ è½½é€Ÿåº¦**

- ç™»å½•é¡µé¢: < 1s
- ä¹¦æ¶é¡µé¢: < 2s
- é˜…è¯»å™¨é¡µé¢: < 3s

### **æ–‡ä»¶ä¸Šä¼ **

- 1MB EPUB: < 3s
- 10MB EPUB: < 10s
- 50MB EPUB: < 30s

### **Lighthouse å¾—åˆ†ï¼ˆç›®æ ‡ï¼‰**

- Performance: > 90
- Accessibility: > 95
- Best Practices: > 95
- SEO: > 90

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### **Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰**

1. **è¿æ¥ GitHub**
   - Fork é¡¹ç›®åˆ° GitHub
   - ç™»å½• Vercel
   - Import Repository

2. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   NEXT_PUBLIC_SUPABASE_URL
   NEXT_PUBLIC_SUPABASE_ANON_KEY
   NEXT_PUBLIC_SITE_URL
   ```

3. **éƒ¨ç½²**
   - ç‚¹å‡» Deploy
   - ç­‰å¾…æ„å»ºå®Œæˆ
   - è®¿é—®ç”Ÿæˆçš„ URL

### **è‡ªå®šä¹‰åŸŸå**

1. åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ åŸŸå
2. é…ç½® DNS CNAME è®°å½•
3. ç­‰å¾… SSL è¯ä¹¦ç”Ÿæˆ

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

### **æ‰‹åŠ¨æµ‹è¯•**

- âœ… è®¤è¯æµç¨‹
- âœ… ä¸Šä¼ åŠŸèƒ½
- âœ… é˜…è¯»åŠŸèƒ½
- âœ… æƒé™éªŒè¯
- âœ… å“åº”å¼å¸ƒå±€

### **è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰**

```bash
# å®‰è£… Playwright
npm install -D @playwright/test

# è¿è¡Œæµ‹è¯•
npm run test:e2e
```

---

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

### **å¼€å‘æµç¨‹**

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### **ä»£ç è§„èŒƒ**

- ä½¿ç”¨ TypeScript
- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š
- ä¿æŒç»„ä»¶å•ä¸€èŒè´£

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ™ è‡´è°¢

- Next.js Team
- Supabase Team
- EPUB.js Contributors
- React-Reader Author
- Tailwind CSS Team
- Lucide Icons Team

---

## ğŸ“ è”ç³»æ–¹å¼

- GitHub Issues: [é¡¹ç›® Issues é¡µé¢]
- Email: [your-email]
- æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£]

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ€»ä»£ç è¡Œæ•°**: ~5,000 è¡Œ
- **ç»„ä»¶æ•°é‡**: 15+
- **Server Actions**: 10+
- **æ–‡æ¡£é¡µæ•°**: 15+
- **å¼€å‘æ—¶é•¿**: [å¡«å†™å®é™…æ—¶é•¿]

---

**æœ€åæ›´æ–°**: 2025-11-20  
**å½“å‰ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼Œå¯æŠ•å…¥ä½¿ç”¨
